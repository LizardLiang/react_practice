(self.webpackChunkproject_test=self.webpackChunkproject_test||[]).push([[810],{7228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},3646:(t,e,n)=>{var i=n(7228);t.exports=function(t){if(Array.isArray(t))return i(t)}},9713:t=>{t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},6860:t=>{t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},8206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:(t,e,n)=>{var i=n(3646),r=n(6860),o=n(379),a=n(8206);t.exports=function(t){return i(t)||r(t)||o(t)||a()}},379:(t,e,n)=>{var i=n(7228);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},4689:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>z});var i=n(319),r=n.n(i),o=n(1506),a=n.n(o),s=n(9713),l=n.n(s),c=n(4575),u=n.n(c),p=n(3913),m=n.n(p),f=n(2205),h=n.n(f),y=n(8585),d=n.n(y),g=n(9754),v=n.n(g),x=n(7294),b=n(3727),k=n(9163);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v()(t);if(e){var r=v()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d()(this,n)}}var S=(0,k.ZP)(b.rU).withConfig({displayName:"StockMain__HomeLink",componentId:"e5t2f2-0"})(["float:right;"]),E=k.ZP.div.withConfig({displayName:"StockMain__DivContainer",componentId:"e5t2f2-1"})(["display:flex;flex-direction:column;position:absolute;top:0;left:0;width:100vw;height:100vh;background:rgb(32,34,37);box-sizing:border-box;padding-top:5rem;font-size:2.8rem;align-items:center;"]),I=k.ZP.div.withConfig({displayName:"StockMain__HeaderDiv",componentId:"e5t2f2-2"})(["position:relative;display:flex;width:100%;justify-content:center;div{width:30%;}.homebutton{position:absolute;right:0;top:0;float:right;}"]),_=k.ZP.div.withConfig({displayName:"StockMain__InputDiv",componentId:"e5t2f2-3"})(["display:flex;justify-content:center;position:relative;width:868px;height:auto;margin:0 auto;font-size:1.5rem;"]),N=k.ZP.span.withConfig({displayName:"StockMain__Span",componentId:"e5t2f2-4"})(["color:white;display:block;text-align:center"]),C=k.ZP.button.withConfig({displayName:"StockMain__Button",componentId:"e5t2f2-5"})(["background:grey;color:white;font-size:1.5rem;&:focus{outline:none;}&:hover{background:white;color:black;}"]),D=k.ZP.svg.withConfig({displayName:"StockMain__Svg",componentId:"e5t2f2-6"})(["font-size:1rem;@media screen and (min-width:1080px){width:50%;height:auto;max-height:440.5px;max-width:521px;overflow:visible;margin-bottom:10%;margin-top:10%;margin-left:auto;margin-right:auto;display:",";}@media screen and (max-width:1079px){width:50vw;height:50%;overflow:visible;margin-bottom:10%;margin-top:10%;margin-left:auto;margin-right:auto;display:",";}"],(function(t){return t.svgDisplay||"block"}),(function(t){return t.svgDisplay||"block"})),M=k.ZP.text.withConfig({displayName:"StockMain__Text",componentId:"e5t2f2-7"})(["fill:white;font-size:20%;"]),P=k.ZP.line.withConfig({displayName:"StockMain__GridLine",componentId:"e5t2f2-8"})(["stroke:grey;stroke-opacity:.5;"]);function j(t,e){return t/e*100}var Z=function(t){h()(n,t);var e=w(n);function n(){return u()(this,n),e.apply(this,arguments)}return m()(n,[{key:"render",value:function(){return x.createElement("polyline",{fill:"none",stroke:"green","stroke-width":"1",points:this.props.points})}}]),n}(x.Component),A=function(t){h()(n,t);var e=w(n);function n(){return u()(this,n),e.apply(this,arguments)}return m()(n,[{key:"render",value:function(){var t,e=this.props.points.split(" "),n=(e=e.slice(0,-1)).map((function(t,n){var i=t.split(",");return x.createElement("circle",{cx:j(n,e.length),cy:parseFloat(i[1]),r:"1",fill:"green"})}));return x.createElement(D,{id:"stockChart",viewBox:"0 0 100 100",preserveAspectRatio:"none",svgDisplay:this.props.SvgDisplay,style:k.ZP.MainContainer},x.createElement("g",{style:{stroke:"grey"}},x.createElement("line",{x1:"0",x2:"100",y1:"100",y2:"100"})),x.createElement("g",{style:{stroke:"grey"}},x.createElement("line",{x1:"0",x2:"0",y1:"0",y2:"100"})),function(){for(var t=[],e=0;e<4;++e)t.push(x.createElement(P,{x1:"0",x2:"100",y1:25*e,y2:25*e}));return t}(),function(t,e){for(var n=[],i=1;i<5;++i)n.push(x.createElement(M,{x:"-15",y:100-25*i},(e-t)/4*i+t));return n}(this.props.min,this.props.max),(t=this.props.xlabel).map((function(e,n){if(n%7==0||n==t.length-1)return x.createElement(M,{x:j(n,t.length)-10,y:"105"},e)})),n,x.createElement(Z,{points:this.props.points}))}}]),n}(x.Component),z=function(t){h()(n,t);var e=w(n);function n(t){var i;return u()(this,n),i=e.call(this,t),l()(a()(i),"FetchStockInfo",(function(){var t=i.state.stockID;""==t||1==isNaN(t)?alert("Stock ID must be numbers"):fetch("http://114.32.157.74/PythonFlask/api/v1/?id="+t).then((function(t){return t.json()})).then((function(t){var e=t.value;i.setState({x_texts:t.date});var n="";e=e.map((function(t){return parseFloat(t)})),i.setState({maxNum:Math.max.apply(Math,r()(e)),minNum:Math.min.apply(Math,r()(e))});for(var o=0;o<e.length;o++)n+=j(o,e.length),n+=",",n+=100-i.calyPosition(e[o]),n+=" ";i.setState({points:n,svgDisplay:"block"})})).catch((function(t){i.setState({svgDisplay:"none"})}))})),l()(a()(i),"handleInputEvent",(function(){return function(t){i.setState({stockID:t.target.value})}})),i.state={stockID:"",minNum:0,maxNum:0,x_texts:[],points:"",reverseHeight:0,svgDisplay:"none"},i}return m()(n,[{key:"calyPosition",value:function(t){return(t-this.state.minNum)/(this.state.maxNum-this.state.minNum)*100}},{key:"render",value:function(){return x.createElement(E,null,x.createElement(I,null,x.createElement(N,null,"輸入股票代碼以取得股票資訊"),x.createElement(S,{to:"/"},x.createElement(C,{className:"homebutton"},"回首頁"))),x.createElement(_,null,x.createElement("input",{"aria-label":"input",type:"text",name:"stockID",value:this.state.stockID,onChange:this.handleInputEvent()}),x.createElement(C,{onClick:this.FetchStockInfo,"arial-label":"searchButton"},"搜尋")),x.createElement(A,{max:this.state.maxNum,min:this.state.minNum,SvgDisplay:this.state.svgDisplay,points:this.state.points,xlabel:this.state.x_texts}))}}]),n}(x.Component)}}]);