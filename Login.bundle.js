(self.webpackChunkproject_test=self.webpackChunkproject_test||[]).push([[438],{9914:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});var o=n(7294),i=n(3727),s=n(9163),a=n(8965),r=n(9669),c=n.n(r),l=n(9198);let p=new a.JSEncrypt;const u=s.ZP.div.withConfig({displayName:"login__MainDiv",componentId:"sc-17l8gbs-0"})(["  width:100%;min-height:calc(100vh - 24px);display:flex;flex-direction:column;justify-content:center;align-items:center;color:white;font-size:2rem;"]),d=s.ZP.input.withConfig({displayName:"login__Input",componentId:"sc-17l8gbs-1"})(["  width:274px;font-size:1.5rem;background:rgb(47,49,54);border:1px solid rgba(255,255,255,0.5);border-radius:9px;margin:0.5rem 0;width:275px;color:white;&:focus{outline:none;}"]),g=s.ZP.div.withConfig({displayName:"login__FootDiv",componentId:"sc-17l8gbs-2"})(["  width:275px;display:flex;font-size:1.5rem;"]),m=s.ZP.button.withConfig({displayName:"login__FootButton",componentId:"sc-17l8gbs-3"})(["  margin-left:auto;background:rgb(47,49,54);border:1px solid rgba(255,255,255,0.3);border-radius:9px;color:white;font-size:1.5rem;&:focus{outline:none;}"]),h=(0,s.ZP)(i.rU).withConfig({displayName:"login__RegistLink",componentId:"sc-17l8gbs-4"})(["  font-size:1rem;&:focus,&:hover{text-decoration:none;outline:none;}"]),f=()=>{const[e,t]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),[s,a]=(0,o.useState)(""),{accDispatch:r}=(0,o.useContext)(l.w);return(0,o.useEffect)((()=>{c().post("http://114.32.157.74/ExpressServer/api",{action:"KeyRequest"}).then((e=>{p.setPublicKey(e.data.key)}))}),[]),o.createElement(u,null,"登入",o.createElement(d,{id:"account",placeholder:"輸入帳號",onChange:e=>{t(e.target.value)}}),o.createElement(d,{id:"password",placeholder:"輸入密碼",onChange:e=>{i(e.target.value)}}),o.createElement(g,null,s,o.createElement(m,{onClick:()=>{if(null==e.match(/^\w*$/))a("請檢查帳號格式");else{let t=p.encrypt(n);c().post("http://114.32.157.74/ExpressServer/api",{action:"login",username:e,password:t}).then((t=>{"Success"==t.data.status?(r({type:"set_account",payload:{status:1,account:e}}),a("登入成功"),setTimeout((()=>{a("")}),5e3)):a("登入失敗")}))}}},"登入")),o.createElement(h,{to:"Regist"},"沒有帳號嗎? 點這裡註冊！"))}}}]);